<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dungeon Scribe AI ‚Äî Wireframe Prototype</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- ======= Top Navigation ======= -->
    <header class="topbar" role="banner">
      <div class="topbar-inner">
        <div class="brand" aria-label="App brand">
          <span class="gem">‚óÜ</span>
          <span>Dungeon Scribe AI</span>
        </div>

        <nav class="main" aria-label="Primary">
          <a href="#" aria-current="page">Inventory</a>
          <a href="#">Quests</a>
          <a href="#">Characters</a>
        </nav>

        <section class="tx" role="region" aria-label="Transcription controls">
          <div class="status" aria-live="polite">
            <span class="dot" id="tx-dot" aria-hidden="true"></span>
            <span id="tx-state">Idle</span>
          </div>
          <div class="controls">
            <button
              id="btn-start"
              title="Start recording (S)"
              aria-pressed="false"
            >
              ‚ñ∂
            </button>
            <button id="btn-pause" title="Pause/Resume (P)" disabled>‚è∏</button>
            <button id="btn-stop" title="Stop recording (X)" disabled>‚èπ</button>
          </div>
        </section>
      </div>
    </header>

    <!-- ======= Main Layout ======= -->
    <div class="container">
      <!-- Left: Timeline + Quests -->
      <aside class="timeline panel" aria-label="Session timeline">
        <h2>Timeline & Questline</h2>
        <div class="timeline-scroll">
        <div class="timeline-body" id="timeline-body">
  <div class="rail" id="timeline-rail">
     <div class="progress-line" id="progress-line"></div>
          </div>
          
          </div>
          <div id="timeline-placeholder" class="placeholder">No timeline yet</div>
          </div>
          <!-- Recent quest-->

          <div class="quests">
  <h3>Recent Quests</h3> <!-- fixed heading -->
  <div id="quest-list">
    <div id="quest-placeholder" class="placeholder">No recent quests</div>
  </div>
</div>
        
      </aside>
      <!-- Center: Conversation Log -->
<section class="log panel" aria-label="Conversation log">
  <div class="log-toolbar">
  <div class="search-container">
    <input
      type="search"
      id="log-search"
      placeholder="Search actions, rolls, or dialogue‚Ä¶"
      aria-label="Search log"
    />
    <div class="search-dropdown" id="search-dropdown">
      <div class="dropdown-header">Filter by event type</div>
      <div class="dropdown-option" data-type="all">All events</div>
      <div class="dropdown-option" data-type="character">Character events</div>
      <div class="dropdown-option" data-type="world">World updates</div>
      <div class="dropdown-option" data-type="quest">Quest updates</div>
    </div>
  </div>
  <button title="Filter">Filter</button>
  <button title="Export">Export</button>
</div>

  <div class="messages" id="log">
     <div id="log-placeholder" class="placeholder">No logs yet‚Ä¶</div>
    
  </div>
</section>


      <!-- Right: Map -->
      <aside class="map-panel panel" aria-label="World map">
        <h3 class="map-title">üó∫Ô∏è Map</h3>
        <div class="map-viewport">
          <!-- Minimal, stylised fantasy map (inline SVG, no external assets) -->
          <svg
            class="map"
            viewBox="0 0 800 600"
            role="img"
            aria-label="Fantasy map with islands and pins"
          >
            <defs>
              <linearGradient id="water" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#1e1531" />
                <stop offset="100%" stop-color="#120c21" />
              </linearGradient>
              <linearGradient id="land" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#3b2e55" />
                <stop offset="100%" stop-color="#2c2243" />
              </linearGradient>
            </defs>
            <rect x="0" y="0" width="800" height="600" fill="url(#water)" />
            <!-- Islands -->
            <path
              d="M130,260 C100,200 190,190 240,210 C290,230 320,270 280,310 C240,350 170,340 130,300 Z"
              fill="url(#land)"
              stroke="#6c5fa3"
              stroke-opacity=".5"
            />
            <path
              d="M420,170 C380,130 520,120 560,170 C600,220 590,260 540,280 C490,300 460,230 420,170 Z"
              fill="url(#land)"
              stroke="#6c5fa3"
              stroke-opacity=".5"
            />
            <path
              d="M520,360 C480,330 610,330 650,380 C690,430 640,470 590,470 C540,470 560,400 520,360 Z"
              fill="url(#land)"
              stroke="#6c5fa3"
              stroke-opacity=".5"
            />
            <!-- Pins -->
            <g>
              <circle cx="250" cy="260" r="6" fill="#7a4df1" />
              <text x="260" y="255" fill="#eae0ff" font-size="12">
                Greywatch
              </text>
            </g>
            <g>
              <circle cx="560" cy="200" r="6" fill="#7a4df1" />
              <text x="570" y="195" fill="#eae0ff" font-size="12">
                Whisper Reefs
              </text>
            </g>
            <g>
              <circle cx="600" cy="420" r="6" fill="#7a4df1" />
              <text x="610" y="415" fill="#eae0ff" font-size="12">
                Old Lighthouse
              </text>
            </g>
          </svg>
        </div>
        <div class="legend"><span class="pin"></span> Points of Interest</div>
      </aside>
    </div>

    <!-- ======= Character Cards ======= -->
    <footer class="characters" aria-label="Character cards">
  <div class="card-row">

    <!-- Kyra -->
    <article class="card" aria-label="Character Kyra card">
      <div class="top">
        <div class="token" id="kyra-token">K</div>
        <div>
          <div>
            <strong>Kyra</strong>
            <span class="pill" id="first-species" contenteditable="true">ORC<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
            <span class="pill" id="first-class" contenteditable="true">Warlock L1<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
            <span class="pill" id="first-gender" contenteditable="true">Female<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
          </div>
          <div class="stats">
            <span class="pill hp">HP 10</span>
            <span class="pill ac">AC 12</span>
            <span class="pill speed">30 ft</span>
          </div>
        </div>
      </div>
      <button id="kyra-generate-btn" onclick="generatePortrait('kyra-token','Kyra','first-class','first-species','first-gender')">
  üé® Generate Portrait
</button>
      <div class="actions">
        <button>Eldritch Blast</button><button>Hex</button><button>Short Rest</button>
      </div>
    </article>

    <!-- Thorne -->
    <article class="card" aria-label="Character Thorne card">
      <div class="top">
        <div class="token" id="thorne-token">T</div>
        <div>
          <div>
            <strong>Thorne</strong>
            <span class="pill" id="second-species" contenteditable="true">Human<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
            <span class="pill" id="second-class" contenteditable="true">Hero<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
            <span class="pill" id="second-gender" contenteditable="true">Male<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
          </div>
          <div class="stats">
            <span class="pill hp">HP 9</span>
            <span class="pill ac">AC 14</span>
            <span class="pill speed">30 ft</span>
          </div>
        </div>
      </div>
      <button onclick="generatePortrait('thorne-token','Thorne','second-class','second-species','second-gender')">üé® Generate Portrait</button>
      <div class="actions">
        <button>Sneak Attack</button><button>Hide</button>
      </div>
    </article>

    <!-- Seren -->
    <article class="card" aria-label="Character Seren card">
      <div class="top">
        <div class="token" id="seren-token">S</div>
        <div>
          <div>
            <strong>Seren</strong>
            <span class="pill" id="third-species" contenteditable="true">Elf<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
            <span class="pill" id="third-class" contenteditable="true">Wizard<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
            <span class="pill" id="third-gender" contenteditable="true">Female<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
          </div>
          <div class="stats">
            <span class="pill hp">HP 11</span>
            <span class="pill ac">AC 18</span>
            <span class="pill speed">30 ft</span>
          </div>
        </div>
      </div>
      <button onclick="generatePortrait('seren-token','Seren','third-class','third-species','third-gender')">üé® Generate Portrait</button>
      <div class="actions">
        <button>Guiding Bolt</button><button>Heal</button>
      </div>
    </article>

    <!-- Mira -->
    <article class="card" aria-label="Character Mira card">
      <div class="top">
        <div class="token" id="mira-token">M</div>
        <div>
          <div>
            <strong>Mira</strong>
            <span class="pill" id="fourth-species" contenteditable="true">DragonBorn<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
            <span class="pill" id="fourth-class" contenteditable="true">Barbarian<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
            <span class="pill" id="fourth-gender" contenteditable="true">Male<img src="edit.png" class="edit-icon" width="16" height="16" alt="edit icon"/></span>
          </div>
          <div class="stats">
            <span class="pill hp">HP 8</span>
            <span class="pill ac">AC 13</span>
            <span class="pill speed">30 ft</span>
          </div>
        </div>
      </div>
      <button onclick="generatePortrait('mira-token','Mira','fourth-class','fourth-species','fourth-gender')">üé® Generate Portrait</button>
      <div class="actions">
        <button>Magic Missile</button><button>Shield</button>
      </div>
    </article>

  </div>
</footer>


    <script src="main.js"></script>
  </body>
</html>
